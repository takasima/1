name: Sidebar Assets
id:   SidebarAssets
key:  sidebarassets
version: 0.8
schema_version: 0.2
author_link: http://alfasado.net/
author_name: Alfasado Inc.
l10n_class: SidebarAssets::L10N
description: '<__trans phrase="Sidebar Assets Tab Menu.">'
blog_config_template: SidebarAssets_config_blog.tmpl
settings: 
    directory:
        default: files
    limit:
        default: 15
    rel2abs:
        default: 1
    rename_file:
        default: 0
    create_asset:
        default: 1
    not_import:
        default: html,php,pl,cgi,js

custom_sidebars:
    sidebarassets:
        id: SidebarAssets
        component: SidebarAssets
        name: Sidebar Assets
        order: 100
        view:
            - website
            - blog
        permission: administer_blog,administer_website,create_post,manage_pages,upload,edit_assets
        template: SidebarAssets.tmpl

object_types:
    author:
        use_drag_drop: boolean meta

applications:
    cms:
        methods:
            sidebarimage: $sidebarassets::SidebarAssets::Plugin::_sidebarimage
            upload_files: $sidebarassets::SidebarAssets::Plugin::_upload_files

tags:
    block:
        IfAuthorCanDropBox?: sub{ return MT->instance()->user->use_drag_drop; }
    function:
        SidebarAssetCount: $sidebarassets::SidebarAssets::Plugin::_hdlr_sidebar_asset_count

callbacks:
    MT::App::CMS::template_param.asset_insert: $sidebarassets::SidebarAssets::Plugin::_asset_insert_param
    MT::App::CMS::template_source.edit_asset: $sidebarassets::SidebarAssets::Plugin::_edit_asset_dialog
    MT::App::CMS::template_output.edit_asset: $sidebarassets::SidebarAssets::Plugin::_edit_asset_output
    cms_post_save.entry: $sidebarassets::SidebarAssets::Plugin::_parse_asset
    cms_post_save.page: $sidebarassets::SidebarAssets::Plugin::_parse_asset
    build_page: $sidebarassets::SidebarAssets::Plugin::_build_preview
    cms_post_save.author: $sidebarassets::SidebarAssets::Plugin::_cb_post_save_author
    MT::App::CMS::template_param.edit_author: $sidebarassets::SidebarAssets::Plugin::_cb_param_edit_author
    MT::App::CMS::template_param.asset_options: $sidebarassets::SidebarAssets::Plugin::_cb_tp_asset_options
