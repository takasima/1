id  : CategoryGroup
key : categorygroup
name: Category Group
version: 1.1
author_name: Alfasado Inc.
author_link: http://alfasado.net/
description: '<__trans phrase="Categories Grouping and Sorting Interface.">'
l10n_class: CategoryGroup::L10N
blog_config_template: group_config.tmpl

# TODO / New Install or Backword Compatible

callbacks:
    MT::App::CMS::template_param.edit_category: $categorygroup::CategoryGroup::CategoryGroup::_list_category_param
    MT::App::CMS::template_param.edit_folder: $categorygroup::CategoryGroup::FolderGroup::_list_folder_param
    cms_pre_load_filtered_list.categorygroup: $customgroup::CustomGroup::Listing::_cms_pre_load_filtered_list
    cms_pre_load_filtered_list.foldergroup: $customgroup::CustomGroup::Listing::_cms_pre_load_filtered_list
    cms_pre_load_filtered_list.categoryfoldergroup: $customgroup::CustomGroup::Listing::_cms_pre_load_filtered_list
config_settings:
    CategoryGroupFieldScope:
        default: blog
    FolderGroupFieldScope:
        default: blog
    CategoryFolderGroupFieldScope:
        default: blog
settings:
    default_module_categorygroup:
    default_module_foldergroup:
    default_module_categoryfoldergroup:
custom_groups:
    categorygroup:
        id: CategoryGroup
        component: CategoryGroup
        name: Category Group
        name_plural: Category Groups
        field_order: 2026
        field_name: Category Group
        edit_permission: $categorygroup::CategoryGroup::CategoryGroup::edit_permission
        filter_class: category
    foldergroup:
        id: FolderGroup
        component: CategoryGroup
        name: Folder Group
        name_plural: Folder Groups
        field_order: 2027
        field_name: Folder Group
        edit_permission: $categorygroup::CategoryGroup::FolderGroup::edit_permission
        filter_class: folder
        stash: category
    categoryfoldergroup:
        id: CategoryFolderGroup
        component: CategoryGroup
        name: Category / Folder Group
        name_plural: Category / Folder Groups
        field_order: 2028
        field_name: Category/Folder Group
        edit_permission: $categorygroup::CategoryGroup::CategoryFolderGroup::edit_permission
        filter_class:
            - category
            - folder
listing_screens:
    categorygroup:
        object_label: Category Group
        primary: name
        default_sort_key: name
        condition: $customgroup::CustomGroup::Plugin::_group_permission
        view:
            - website
            - blog
            - system
    foldergroup:
        object_label: Folder Group
        primary: name
        default_sort_key: name
        condition: $customgroup::CustomGroup::Plugin::_group_permission
        view:
            - website
            - blog
            - system
    categoryfoldergroup:
        object_label: Category / Folder Group
        primary: name
        default_sort_key: name
        condition: $customgroup::CustomGroup::Plugin::_group_permission
        view:
            - website
            - blog
            - system
system_filters:
    categorygroup: $customgroup::CustomGroup::Listing::system_filters
    foldergroup: $customgroup::CustomGroup::Listing::system_filters
    categoryfoldergroup: $customgroup::CustomGroup::Listing::system_filters
list_properties:
    categorygroup: $customgroup::CustomGroup::Listing::list_props
    foldergroup: $customgroup::CustomGroup::Listing::list_props
    categoryfoldergroup: $customgroup::CustomGroup::Listing::list_props
list_actions:
    categorygroup: $customgroup::CustomGroup::Listing::list_actions
    foldergroup: $customgroup::CustomGroup::Listing::list_actions
    categoryfoldergroup: $customgroup::CustomGroup::Listing::list_actions
# customfield_types: $customgroup::CustomGroup::Field::_customfield_types
permissions:
    blog.manage_categorygroup:
        label: Manage Category Group
        group: blog_admin
        order: 1300
    blog.manage_foldergroup:
        label: Manage Folder Group
        group: blog_admin
        order: 1301
    blog.manage_categoryfoldergroup:
        label: Manage Category / Folder Group
        group: blog_admin
        order: 1302
object_types:
    categorygroup: CategoryGroup::CategoryGroup
    foldergroup: CategoryGroup::FolderGroup
    categoryfoldergroup: CategoryGroup::CategoryFolderGroup
applications:
    cms:
        menus:
            category:
                label: Category
                order: 300
            folder:
                label: Folder
                order: 350
            category:category:
                label: Manage
                mode: list
                args:
                    _type: category
                order: 100
                view:
                    - blog
                permission: edit_categories
            folder:folder:
                label: Manage
                mode: list
                args:
                    _type: folder
                order: 100
                view:
                    - blog
                    - website
                permission: manage_pages
            entry:category:
                condition: sub{}
            page:folder:
                condition: sub{}
            category:list_categorygroup:
                label: Manage Groups
                mode: list
                args:
                    _type: categorygroup
                    blog_id: 0
                order: 400
                view:
                    - website
                    - blog
                condition: $categorygroup::CategoryGroup::CategoryGroup::permission
            category:create_categorygroup:
                label: Create Group
                mode: view
                args:
                    _type: categorygroup
                order: 500
                condition: $categorygroup::CategoryGroup::CategoryGroup::permission
                view:
                    - website
                    - blog
            folder:list_foldergroup:
                label: Manage Groups
                mode: list
                args:
                    _type: foldergroup
                    blog_id: 0
                order: 400
                view:
                    - website
                    - blog
                condition: $categorygroup::CategoryGroup::FolderGroup::permission
            folder:create_foldergroup:
                label: Create Group
                mode: view
                args:
                    _type: foldergroup
                order: 500
                condition: $categorygroup::CategoryGroup::FolderGroup::permission
                view:
                    - website
                    - blog
            objectgroup:categoryfoldergroup:
                label: Category / Folder Group
                mode: list
                args:
                    _type: categoryfoldergroup
                    blog_id: 0
                order: 300
                view:
                    - website
                    - blog
                    - system
                condition: $categorygroup::CategoryGroup::CategoryFolderGroup::permission
        content_actions:
            categoryfoldergroup:
                create_categoryfoldergroup:
                    class: icon-create
                    label: Create New
                    mode: view
                    args:
                        _type: categoryfoldergroup
                    condition: $categorygroup::CategoryGroup::CategoryFolderGroup::permission
